#!/usr/bin/env python

import numpy as np
import matplotlib.pyplot as plt
import rapidtide.correlate as tide_corr
import rapidtide.io as tide_io

input1 = tide_io.readvec('tc1')
input2 = tide_io.readvec('tc2')
input3 = tide_io.readvec('tc3')
input4 = tide_io.readvec('../dst/diff_quad_reference_resampres_pass1.txt')
input5 = tide_io.readvec('../dst/diff_quad_reference_resampres_pass3.txt')


thex, thexcorr = tide_corr.arbcorr(input1, 12.5, input2, 12.5, windowfunc='hamming')
plt.plot(thex, thexcorr)
plt.show()

thex, thexmi = tide_corr.cross_MI(input1, input2, Fs=12.5, bins=50, windowfunc='hamming')
thexnowin, thexminowin = tide_corr.cross_MI(input1, input2, Fs=12.5, bins=50, windowfunc='none')
plt.plot(thex, thexmi)
plt.plot(thexnowin, thexminowin)
plt.show()


#thex, thexmi = tide_corr.cross_MI(input4, input5, Fs=2.0, bins=10, windowfunc='hamming')
#plt.plot(thex, thexmi)
#plt.show()
